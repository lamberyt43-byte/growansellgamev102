<!DOCTYPE html>
<html>

<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Grow and Sell</title>

  <style>
    body {
  font-family: 'Segoe UI', sans-serif;
  background: #f3f0e5;
  color: #333;
  text-align: center;
  padding: 20px;
}

#plantShop {
  position: fixed;
  top: 70px;
  left: 50%;
  transform: translateX(-50%);
  width: 90%;
  max-width: 400px;
  max-height: 70vh;
  background: #fff;
  border-radius: 15px;
  padding: 20px;
  box-shadow: 0 6px 20px rgba(0,0,0,0.2);
  overflow-y: auto;
  z-index: 999;
}

#plantShop h3 {
  margin-top: 0;
}

.shop-list {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
}

.shop-list button {
  width: 110px;
  margin: 6px;
  font-size: 14px;
}

.hidden {
  display: none;
}


#harvestButton {
  position: fixed;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  background-color: #ffb74d;
  color: #333;
  padding: 12px 24px;
  font-size: 16px;
  border: none;
  border-radius: 12px;
  box-shadow: 0 4px 8px rgba(0,0,0,0.2);
  cursor: pointer;
  z-index: 1000;
  transition: background 0.3s;
}

#harvestButton:hover {
  background-color: #ffa000;
}


#moneyBar {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  background-color: #c5e1a5;
  color: #333;
  font-weight: bold;
  padding: 10px;
  font-size: 18px;
  box-shadow: 0 2px 5px rgba(0,0,0,0.2);
  z-index: 1000;
}


#game {
  max-width: 500px;
  margin: auto;
  background: #fff8f0;
  border-radius: 15px;
  padding: 20px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
}

button {
  margin: 5px;
  padding: 10px;
  border: none;
  background: #8bc34a;
  color: white;
  font-weight: bold;
  border-radius: 10px;
  cursor: pointer;
  transition: 0.3s;
}

button:hover {
  background: #689f38;
}

#garden {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
}

.plot {
  width: 80px;
  height: 80px;
  margin: 5px;
  background: #c8e6c9;
  border: 2px dashed #558b2f;
  border-radius: 10px;
  position: relative;
  font-size: 30px;
  cursor: pointer;
  display: flex;
  justify-content: center;
  align-items: center;
}

.plot.ready {
  background: #fff59d;
}

.tooltip {
  font-size: 10px;
  position: absolute;
  bottom: 0;
  width: 100%;
  background: rgba(255,255,255,0.7);
  border-radius: 0 0 10px 10px;
}

@keyframes growPulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.15); }
  100% { transform: scale(1); }
}

.plot.growing {
  animation: growPulse 1.5s infinite;
}



  </style>

  
</head>
<body>
  <!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>üåæ –í—ã—Ä–∞—Å—Ç–∏ –∏ –ø—Ä–æ–¥–∞–π!</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div id="game">
    <h1>üåø –í—ã—Ä–∞—Å—Ç–∏ –∏ –ø—Ä–æ–¥–∞–π</h1>
    <div id="moneyBar">
  üí∞ –®–∞–∫–∏–ª–∏: <span id="money">0</span>
</div>

    <button onclick="showRecords()" style="margin-bottom: 10px;">üìä –¢–∞–±–ª–∏—Ü–∞ —Ä–µ–∫–æ—Ä–¥–æ–≤</button>


    <div id="upgradeShop">
      <h3>üîß –£–ª—É—á—à–µ–Ω–∏—è</h3>
      <button onclick="buySlot()">–î–æ–±–∞–≤–∏—Ç—å –≥—Ä—è–¥–∫—É (15üí∞) ‚Äî <span id="slotCount"></span></button>
      <button onclick="buyWatering()">–ü–æ–ª–∏–≤–∞–ª–∫–∞ üåßÔ∏è (10üí∞)</button>
    </div>

    <button onclick="toggleShop()">üõí –û—Ç–∫—Ä—ã—Ç—å –º–∞–≥–∞–∑–∏–Ω</button>

<div id="plantShop" class="hidden">
  <h3>üå± –ú–∞–≥–∞–∑–∏–Ω —Ä–∞—Å—Ç–µ–Ω–∏–π <button onclick="toggleShop()">‚ùå</button></h3>
  <div id="seedButtons" class="shop-list"></div>
</div>


    <h3>üå± –ì—Ä—è–¥–∫–∏</h3>
    <div id="garden"></div>
  </div>

  <script src="game.js"></script>

  <button id="harvestButton" onclick="harvestAll()">–°–æ–±—Ä–∞—Ç—å –≤—Å—ë üåæ</button>

<div id="recordsScreen" style="display:none; padding: 20px;">
  <h2>üèÜ –¢–∞–±–ª–∏—Ü–∞ —Ä–µ–∫–æ—Ä–¥–æ–≤</h2>
  <p>üîù –õ—É—á—à–∞—è —Å—É–º–º–∞ —à–∞–∫–∏–ª–µ–π: <span id="bestMoneyDisplay">0</span> üí∞</p>
  <button onclick="hideRecords()">‚¨ÖÔ∏è –ù–∞–∑–∞–¥</button>
</div>

<p id="recordUpdateTimer" style="font-size: 12px; color: gray; margin-top: 10px;">
  üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑: <span id="updateTime">--:--</span>
</p>

</body>
</html>



  <script>
    let money = parseInt(localStorage.getItem("money")) || 20;
let slots = parseInt(localStorage.getItem("slots")) || 3;
let watering = parseInt(localStorage.getItem("watering")) || 0;
let garden = JSON.parse(localStorage.getItem("garden")) || [];
let displayedMoney = money;
let bestMoney = parseInt(localStorage.getItem("bestMoney")) || 0;


const maxSlots = 500; // –º–∞–∫—Å–∏–º—É–º —Å–ª–æ—Ç–æ–≤


const seeds = [
  { name: "–ö–∞—Ä—Ç–æ—à–∫–∞", emoji: "ü•î", price: 3, growTime: 5000, rarity: "–æ–±—ã—á–Ω–æ–µ" },
  { name: "–ú–æ—Ä–∫–æ–≤—å", emoji: "ü•ï", price: 4, growTime: 6000, rarity: "–æ–±—ã—á–Ω–æ–µ" },
  { name: "–ü—Ä–∏–∑—Ä–∞—á–Ω–∞—è –∫–ª—É–±–Ω–∏–∫–∞", emoji: "üçì", price: 10, growTime: 10000, rarity: "—Ä–µ–¥–∫–æ–µ" },
  { name: "–°–∞—Ö–∞—Ä–Ω–æ–µ –¥–µ—Ä–µ–≤–æ", emoji: "üç¨", price: 15, growTime: 12000, rarity: "—ç–ø–∏—á–µ—Å–∫–æ–µ" },
  { name: "–î–µ—Ä–µ–≤–æ –°–∞—Ç—É—Ä–Ω–∞", emoji: "ü™ê", price: 20, growTime: 15000, rarity: "–ª–µ–≥–µ–Ω–¥–∞—Ä–Ω–æ–µ" },
  { name: "–°–≤–µ—Ç–æ—Ñ—Ä—É–∫—Ç", emoji: "üí°", price: 12, growTime: 9000, rarity: "—Ä–µ–¥–∫–æ–µ" },
  { name: "–ú–µ–¥–æ–≤–∞—è —Ç—ã–∫–≤–∞", emoji: "üéÉ", price: 8, growTime: 7000, rarity: "–æ–±—ã—á–Ω–æ–µ" },
  { name: "–ö–æ—Å–º–∏—á–µ—Å–∫–∞—è –º–∞–ª–∏–Ω–∞", emoji: "üõ∏", price: 18, growTime: 14000, rarity: "–ª–µ–≥–µ–Ω–¥–∞—Ä–Ω–æ–µ" },
  { name: "–û–≥–Ω–µ–Ω–Ω–∞—è –≥—Ä—É—à–∞", emoji: "üî•", price: 9, growTime: 7500, rarity: "—Ä–µ–¥–∫–æ–µ" },
  { name: "–õ–µ–¥—è–Ω–æ–π –±–∞–Ω–∞–Ω", emoji: "‚ùÑÔ∏è", price: 11, growTime: 8500, rarity: "—Ä–µ–¥–∫–æ–µ" },
  { name: "–ë–ª–µ—Å—Ç—è—â–∞—è —á–µ—Ä–Ω–∏–∫–∞", emoji: "üîµ", price: 10, growTime: 8000, rarity: "—Ä–µ–¥–∫–æ–µ" },
  { name: "–†–∞–¥—É–∂–Ω–æ–µ —è–±–ª–æ–∫–æ", emoji: "üåà", price: 15, growTime: 10000, rarity: "—ç–ø–∏—á–µ—Å–∫–æ–µ" },
  { name: "–¢—É–º–∞–Ω–Ω–∞—è –≤–∏—à–Ω—è", emoji: "üå´Ô∏è", price: 13, growTime: 9500, rarity: "—Ä–µ–¥–∫–æ–µ" },
  { name: "–ö—Ä–∏—Å—Ç–∞–ª–ª–∏—á–µ—Å–∫–∏–π –ø–µ—Ä—Å–∏–∫", emoji: "üíé", price: 17, growTime: 13000, rarity: "—ç–ø–∏—á–µ—Å–∫–æ–µ" },
  { name: "–ì—Ä–∞–≤–∏—Ç–∞—Ü–∏–æ–Ω–Ω—ã–π –∞—Ä–±—É–∑", emoji: "üåå", price: 22, growTime: 16000, rarity: "–ª–µ–≥–µ–Ω–¥–∞—Ä–Ω–æ–µ" },
  { name: "–ó–≤—ë–∑–¥–Ω–∞—è –¥—ã–Ω—è", emoji: "‚≠ê", price: 16, growTime: 11000, rarity: "—ç–ø–∏—á–µ—Å–∫–æ–µ" },
  { name: "–ö–æ–∫–∞-—Ñ—Ä—É–∫—Ç", emoji: "ü•§", price: 12, growTime: 8700, rarity: "—Ä–µ–¥–∫–æ–µ" },
  { name: "–§—Ä—É–∫—Ç –Ω–æ—á–∏", emoji: "üåö", price: 14, growTime: 9000, rarity: "—Ä–µ–¥–∫–æ–µ" },
  { name: "–¢–æ–∫—Å–∏—á–Ω—ã–π –ª–∏–º–æ–Ω", emoji: "‚ò£Ô∏è", price: 8, growTime: 6000, rarity: "–Ω–µ–æ–±—ã—á–Ω–æ–µ" },
  { name: "–ë–∞–Ω–∞–Ω-—Ä–∞–∫–µ—Ç–∞", emoji: "üöÄ", price: 19, growTime: 14000, rarity: "—ç–ø–∏—á–µ—Å–∫–æ–µ" },
  { name: "–ñ–≤–∞—á–Ω–æ–µ –¥–µ—Ä–µ–≤–æ", emoji: "ü´ß", price: 20, growTime: 15000, rarity: "–ª–µ–≥–µ–Ω–¥–∞—Ä–Ω–æ–µ" },
  { name: "–ú–æ–ª–Ω–∏–µ–≤—ã–π –∞–ø–µ–ª—å—Å–∏–Ω", emoji: "‚ö°", price: 15, growTime: 10000, rarity: "—ç–ø–∏—á–µ—Å–∫–æ–µ" },
  { name: "–õ–∞–∑–µ—Ä–Ω–∞—è —Å–ª–∏–≤–∞", emoji: "üî¥", price: 13, growTime: 9700, rarity: "—Ä–µ–¥–∫–æ–µ" },
  { name: "–¢–∞–Ω—Ü—É—é—â–∏–π –∞–Ω–∞–Ω–∞—Å", emoji: "üíÉüçç", price: 11, growTime: 9200, rarity: "–Ω–µ–æ–±—ã—á–Ω–æ–µ" },
  { name: "–ú–∞–≥–∏—á–µ—Å–∫–∞—è –º—è—Ç–∞", emoji: "üßôüåø", price: 14, growTime: 10000, rarity: "—Ä–µ–¥–∫–æ–µ" },
  
  
];

function save() {
  localStorage.setItem("money", money);
  localStorage.setItem("slots", slots);
  localStorage.setItem("watering", watering);
  localStorage.setItem("garden", JSON.stringify(garden));
  if (money > bestMoney) {
  bestMoney = money;
  localStorage.setItem("bestMoney", bestMoney);
}

}

function updateUI() {
  document.getElementById("money").textContent = money;
  renderGarden();
  
}

function renderGarden() {
  const gardenDiv = document.getElementById("garden");
  gardenDiv.innerHTML = "";

  for (let i = 0; i < slots; i++) {
    const plot = document.createElement("div");
    plot.className = "plot";

    const plant = garden[i];
    if (plant) {
      plot.textContent = plant.emoji;
      if (!plant.ready) {
        plot.classList.add("growing");
      }
    if (plant.ready) {
        plot.innerHTML += `<div class="tooltip">–ì–æ—Ç–æ–≤–æ! (${plant.name})</div>`;
        plot.onclick = () => {
          money += Math.floor(plant.price * 1.5);
          garden[i] = null;
          updateUI();
          save();
        };
      } else {
        const percent = Math.floor((Date.now() - plant.start) / plant.time * 100);
        plot.innerHTML += `<div class="tooltip">${plant.rarity} ‚Ä¢ ${percent}%</div>`;
      }
    } else {
      plot.onclick = () => plantSeed(i);
    }

    gardenDiv.appendChild(plot);
  }
}

function renderSeeds() {
  const seedButtons = document.getElementById("seedButtons");
  seedButtons.innerHTML = "";
  seeds.forEach((seed, index) => {
    const btn = document.createElement("button");
    btn.textContent = `${seed.emoji} ${seed.name} (${seed.price}üí∞)`;
    btn.onclick = () => {
      selectedSeed = index;
      toggleShop();
    };
    seedButtons.appendChild(btn);
  });
}

let selectedSeed = null;

function plantSeed(i) {
  if (selectedSeed === null) return;
  const seed = seeds[selectedSeed];
  if (money < seed.price) return;

  money -= seed.price;
  const time = seed.growTime - watering * 1000;
  garden[i] = {
    ...seed,
    start: Date.now(),
    time: time,
    ready: false
  };

  growPlant(i);
  updateUI();
  save();
}

function growPlant(i) {
  const interval = setInterval(() => {
    const plant = garden[i];
    if (!plant) return clearInterval(interval);
    if (Date.now() - plant.start >= plant.time) {
      plant.ready = true;
      updateUI();
      save();
      clearInterval(interval);
    }
  }, 1000);
}

function buySlot() {
  if (slots >= maxSlots) {
    alert("–ú–∞–∫—Å–∏–º—É–º –≥—Ä—è–¥–æ–∫ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç! üåæ");
    return;
  }

  if (money >= 15) {
    money -= 15;
    slots += 1;
    garden.push(null);
    updateUI();
    save();
  } else {
    alert("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —à–∞–∫–∏–ª–µ–π!");
  }
}


function buyWatering() {
  if (money >= 10) {
    money -= 10;
    watering += 1;
    updateUI();
    save();
  }
}

function loadGrowth() {
  garden.forEach((plant, i) => {
    if (plant && !plant.ready) {
      growPlant(i);
    }
  });
}

function animateMoney() {
  const display = document.getElementById("money");
  if (!display) return;

  if (displayedMoney !== money) {
    displayedMoney += (money - displayedMoney) * 0.1;
    if (Math.abs(money - displayedMoney) < 0.5) {
      displayedMoney = money;
    }
    display.textContent = Math.floor(displayedMoney);
  }

  requestAnimationFrame(animateMoney);
}

function harvestAll() {
  let harvested = false;
  for (let i = 0; i < garden.length; i++) {
    const plant = garden[i];
    if (plant && plant.ready) {
      money += Math.floor(plant.price * 1.5);
      garden[i] = null;
      harvested = true;
    }
  }
  if (harvested) {
    updateUI();
    save();
  } else {
    alert("–ù–µ—Ç –≥–æ—Ç–æ–≤—ã—Ö —Ä–∞—Å—Ç–µ–Ω–∏–π! üå±");
  }
}

function toggleShop() {
  const shop = document.getElementById("plantShop");
  shop.classList.toggle("hidden");
}

function showRecords() {
  document.getElementById("game").style.display = "none";
  document.getElementById("recordsScreen").style.display = "block";
  document.getElementById("bestMoneyDisplay").textContent = bestMoney;
}

function hideRecords() {
  document.getElementById("recordsScreen").style.display = "none";
  document.getElementById("game").style.display = "block";
}

function startRecordUpdateTimer(seconds) {
  const timerDisplay = document.getElementById("updateTime");

  function update() {
    const min = Math.floor(seconds / 60).toString().padStart(2, '0');
    const sec = (seconds % 60).toString().padStart(2, '0');
    timerDisplay.textContent = `${min}:${sec}`;

    if (seconds <= 0) {
      clearInterval(timerInterval);
      timerDisplay.textContent = "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ...";
      // –º–æ–∂–µ—à—å —Ç—É—Ç –≤—ã–∑–≤–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–ª–∏ —Å–∫—Ä—ã—Ç—å
    }

    seconds--;
  }

  update();

  const timerInterval = setInterval(update, 1000);
}



animateMoney();
renderSeeds();
updateUI();
loadGrowth();


  </script>
</body>
</html>
